<!DOCTYPE html>
<html>
<head>
    <title>Deviab | Portfolio</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="/bundles/fabric/js/ng-route.js"></script>
    <script src="/bundles/fabric/js/jquery-2.1.1.min.js"></script>
    <script src="/bundles/fabric/js/jquery.als-1.7.min.js"></script>
    <script src="/bundles/fabric/js/sha512.js"></script>
    <script src="/bundles/fabric/js/app/portfolio/module/portfolio.js"></script>
    <script src="/bundles/fabric/js/app/portfolio/controller/portfolio.js"></script>
    <script src="/bundles/fabric/js/app/portfolio/controller/project.js"></script>
    <script src="/bundles/fabric/js/app/portfolio/controller/profile.js"></script>
    <link rel="stylesheet" type="text/css" href="/bundles/fabric/css/fabric_style.css">
    <link rel="stylesheet" type="text/css" href="/bundles/fabric/css/common.css">
    <link rel="stylesheet" href="/bundles/fabric/css/style.css"/>
    <link rel="stylesheet" href="/bundles/fabric/css/navigation.css"/>
    <link rel="stylesheet" href="/bundles/fabric/css/common.css"/>
    <link rel="stylesheet" href="/bundles/fabric/css/newhome.css"/>
    <link rel="stylesheet" href="/bundles/fabric/css/project.css"/>

</head>
<body ng-app="myApp">
<nav class="navbar navbar-default fixed-nav-bar">
    <div class="container-fluid no-right-padd">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header col-lg-4 col-md-4 col-sm-4 no-left-padd">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-show-hide">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="container-fluid row col-lg-12 col-md-12 col-sm-12 col-xs-6">
                {# <a class="navbar-brand logo pull-left" href="#">lytyfy</a> #}
                <a href="/#/"><img class="menu-type img-responsive img-rounded"
                                   ng-src="/bundles/fabric/images/lytyfy6.png" alt="loding...."
                            ></a>
            </div>
        </div>
        <div class="row collapse navbar-collapse col-lg-12 col-md-12 col-sm-10 col-xs-12" id="nav-show-hide">
            <ul class="nav navbar-nav text-center">
                <li data-toggle="collapse" data-target="#nav-show-hide"><a id="home" href="#/" class="nav-link fade-in">HOME
                        <span class="sr-only">(current)</span></a></li>
                <li data-toggle="collapse" data-target="#nav-show-hide"><a id="about" href="" class="nav-link">ABOUT</a>
                </li>
                <li data-toggle="collapse" data-target="#nav-show-hide"><a id="contact" href="#/how_it_works"
                                                                           class="nav-link">HOW IT WORKS</a></li>
                <li data-toggle="collapse" data-target="#nav-show-hide"><a id="contact" href="#/faqs" class="nav-link">FAQ</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
        <div id="welcome-login" class="col-lg-4 col-md-3 col-sm-3 hidden-xs pull-right">
            <div class="pull-right text-right">
                {% if username is defined %}
                    <span id="welcome-user">Hi {{ username }}</span><br>
                    <a id="nav-profile-link"><span id="nav-profile-span" class="glyphicon glyphicon-cog"></span></a>
                    <ul id="vv" class="dropdown-menu" style="display:none">
                        <li><a href="/home"><i class="fa fa-list-alt"></i> Dashboard</a></li>
                        <li><a href="/users/52391/edit"><i class="fa fa-pencil-square-o"></i> Edit Profile</a></li>
                        <li><a href="/user/52391"><i class="fa fa-globe"></i> Public Profile</a></li>
                        <li>
                            <a rel="nofollow" data-method="delete" href="">
                                <i class="fa fa-power-off"></i> Logout
                            </a></li>
                    </ul>
                {% else %}
                    <button id="login-btn" class="nav-link btn btn-primary " data-toggle="modal" data-target="#myModal">
                        LOGIN
                    </button>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->
</nav>
<div id="overlay"></div>

<div>
    <div ng-view></div>
</div>
<div class="container">
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div id="signup" style="display:none">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Please Sign-up</h4>
                    </div>
                    <div class="container-fluid">
                        <form id="signup-form" role="form">
                            <div class="form-group signup-link">
                                <label for="signup-name">Name:</label>
                                <input type="text" class="form-control" id="signup-name" name="signup-name"
                                       placeholder="Name">
                            </div>
                            <div class="form-group">
                                <label for="signup-email">Email:</label>
                                <input type="email" class="form-control" id="signup-email" name="signup-email"
                                       placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="signup-password">Password:</label>
                                <input type="password" class="form-control" id="signup-password"
                                       name="signup-password" placeholder="Enter password">
                            </div>
                            <div class="form-group signup-link">
                                <label for="signup-confirm-password">Confirm Password:</label>
                                <input type="password" class="form-control" id="signup-cnfrm-password"
                                       name="signup-cnfrm-password" placeholder="Confirm Password">
                            </div>
                            <button id="signup-btn" class="btn btn-lg btn-primary btn-block">Sign up</button>
                        </form>
                        <div class="modal-footer">
                            <a id="signin-link" class="pull-right">Already have account</a>
                        </div>
                    </div>
                </div>
                <div id="signin">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Please Sign-in</h4>
                    </div>
                    <div class="container-fluid">
                        <form id='signin-form' role="form">
                            <div class="form-group">
                                <label for="signin-email">Email:</label>
                                <input type="email" class="form-control" id="signin-email" name="signin-email"
                                       placeholder="Enter email">
                            </div>
                            <div class="form-group">
                                <label for="signin-password">Password:</label>
                                <input type="password" class="form-control" id="signin-password" name="signin-password"
                                       placeholder="Enter password">
                            </div>
                            <div class="checkbox">
                                <label><input type="checkbox"> Remember me</label>
                            </div>
                            <button id="signin-btn" class="btn btn-lg btn-primary btn-block">Sign in</button>
                        </form>
                        <div id="signin-msg-container"><span id="signin-msg"></span></div>
                        <div class="modal-footer">
                            <button id="signup-link" class="btn btn-primary pull-left">Sign up</button>
                            <a id="forgot-password-link" class="pull-right">Forgot Password</a>
                        </div>
                    </div>
                </div>
                <div id="forgot-password" style="display:none">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Please Enter your Register email</h4>
                    </div>
                    <div class="container-fluid">
                        <form role="form">
                            <div class="form-group">
                                <label for="signin-email">Email:</label>
                                <input type="email" class="form-control" id="forgotpass-email" name="forgotpass-email"
                                       placeholder="Enter email">
                            </div>
                            <button class="btn btn-lg btn-primary btn-block" type="submit">Submit</button>
                        </form>
                        <div class="modal-footer">
                            <button id="forgot-password-signin-link" class="btn btn-primary">Login</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="footer" class="container-fluid">
    <div id="social-icons-container">
        <ul id="social-icon-container">
            <li id="fb"><a href="https://www.facebook.com/pages/Deviab/1675668492652876?__mref=message_bubble"
                           target="_blank"><img src="/bundles/fabric/images/index/fb.png"></a></li>
            <li id="tw"><a href="https://twitter.com/@deviab_energy" target="_blank"><img
                            src="/bundles/fabric/images/index/tw.png"></a></li>
            <li id="in"><a href="#"><img src="/bundles/fabric/images/index/in.png"></a></li>
        </ul>
    </div>
    <div id="footer-text">
        <div id="email">info@deviab.com</div>
        <div id="copy-right">Copyright &copy Deviab Research and Implementation Pvt Ltd 2015</div>
    </div>
</div>
</body>
<script type="text/javascript">
    // document.getElementById('nav-profile-link').onmouseover = function () {
    // 	a();
    // };
    // function a() {
    // 	$("#vv").css("display", "block");


    // }

    // document.getElementById('nav-profile-link').onmouseout = function () {
    // 	b();
    // };
    // function b() {
    // 	$("#vv").css("display", "none");


    // }

    var nav_height = $("nav").height();
    $("#overlay").css("height", nav_height + 30);


    $("#signup-link").click(function () {

        $("#signin").toggle();
        $("#signup").toggle();
        $("#forgot-passord").toggle();
    });
    $("#signin-link").click(function () {

        $("#signup").toggle();
        $("#signin").toggle();
        $("#forgot-passord").toggle();
    });
    $("#forgot-password-link").click(function () {
        $("#signin").toggle();
        $("#forgot-password").toggle();

    });
    $("#signup-forgot-passord-link").click(function () {
        $("#signin").toggle();
        $("#signup").toggle();
        $("#forgot-passord").toggle();
    });
    $("#forgot-password-signin-link").click(function () {
        $("#signin").toggle();
        $("#forgot-password").toggle();
    });

    $('#signin-btn').click(function () {
        var result = {};
        $.each($('#signin-form').serializeArray(), function (index, element) {
            result[element.name] = element.value;
        });
        jsonData = {
            email: result['signin-email'],
            password: result['signin-password']
        };
        console.log(jsonData);
        $.ajax({
            url: "/login",
            type: 'POST',
            data: jsonData,
            success: function (result) {
                $("#signin-msg").html("Successfuly logedin you will be redirect to home page");
                location.reload();
                alert('Logged In' + result);
            },
            error: function (errorMessage) {
                $("#signin-msg").html("Wrong username or password!");
                alert(errorMessage);
            },
        });
    });
    $('#signup-btn').click(function () {
        var result = {};
        $.each($('#signup-form').serializeArray(), function (index, element) {
            result[element.name] = element.value;
        });
        jsonData = {
            username: result['signup-name'],
            email: result['signup-email'],
            password: result['signup-password']
        };
        console.log(jsonData);
        $.ajax({
            url: "/signup",
            type: 'POST',
            data: jsonData,
            success: function (result) {
                alert('Logged In' + result);
            },
            error: function (errorMessage) {
                alert(errorMessage);
            },
        });
    });
    // $('#signin-btn').click(function () {
    // 	var data = $('#signin-form').serializeArray();
    // 	jsonData = {
    // 		'email' : data.signin-email,
    // 		'password' : data.signin-password
    // 	};
    // 	$.ajax({
    // 		url: "/login",
    // 		type: 'POST',
    // 		contentType: 'application/json',
    // 		data: jsonData,
    // 		success: function(result){
    //        		alert('Logged In'+result);
    //    		},
    //    		error: function(errorMessage){
    //        		alert(errorMessage);
    //    		},
    //    	});
    // });
</script>
</html>

